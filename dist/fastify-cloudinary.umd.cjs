(function(e,i){typeof exports=="object"&&typeof module<"u"?module.exports=i(require("url"),require("fastify-plugin"),require("cloudinary")):typeof define=="function"&&define.amd?define(["url","fastify-plugin","cloudinary"],i):(e=typeof globalThis<"u"?globalThis:e||self,e.FastifyCloudinary=i(e.url,e.FastifyPlugin,e.Cloudinary))})(this,function(e,i,u){"use strict";return(t=>t&&typeof t=="object"&&"default"in t?t:{default:t})(i).default(async(t,r)=>{const d=(o="")=>{var f,a;const n=e.urlToHttpOptions(new URL(o));return{cloud_name:n.host||void 0,api_key:(f=n.auth)==null?void 0:f.split(":")[0],api_secret:(a=n.auth)==null?void 0:a.split(":")[1],...r}};u.v2.config(d(r.url)),t.decorate("cloudinary",u.v2)},{fastify:"4.x",name:"fastify-cloudinary"})});
